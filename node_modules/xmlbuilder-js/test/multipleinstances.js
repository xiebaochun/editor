(function() {
  var assert, vows, xmlbuilder;

  vows = require('vows');

  assert = require('assert');

  xmlbuilder = require('../src/index.coffee');

  vows.describe('Creating XML').addBatch({
    'Multiple Instances': {
      topic: function() {
        var xml1, xml2;
        xml1 = xmlbuilder.create('first').ele('node1', {
          'testatt1': 'testattval1'
        }, 'text1');
        xml2 = xmlbuilder.create('second').ele('node2', {
          'testatt2': 'testattval2'
        }, 'text2');
        return [xml1, xml2];
      },
      'resulting XML': function(topic) {
        var xml1, xml2;
        xml1 = '<?xml version="1.0"?>' + '<first>' + '<node1 testatt1="testattval1">text1</node1>' + '</first>';
        assert.strictEqual(topic[0].end(), xml1);
        xml2 = '<?xml version="1.0"?>' + '<second>' + '<node2 testatt2="testattval2">text2</node2>' + '</second>';
        assert.strictEqual(topic[1].end(), xml2);
        return assert.strictEqual(topic[0].end(), xml1);
      }
    }
  })["export"](module);

}).call(this);
