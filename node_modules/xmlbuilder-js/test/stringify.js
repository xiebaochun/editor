(function() {
  var assert, vows, xmlbuilder;

  vows = require('vows');

  assert = require('assert');

  xmlbuilder = require('../src/index.coffee');

  vows.describe('Stringify').addBatch({
    'Custom function': {
      topic: function() {
        var addns;
        addns = function(val) {
          return 'my:' + val;
        };
        return xmlbuilder.create('test7', {
          headless: true,
          stringify: {
            eleName: addns
          }
        }).ele('nodes').ele('node', '1').up().ele('node', '2').up().ele('node', '3');
      },
      'resulting XML': function(topic) {
        var xml;
        xml = '<my:test7><my:nodes><my:node>1</my:node><my:node>2</my:node><my:node>3</my:node></my:nodes></my:test7>';
        return assert.strictEqual(topic.end(), xml);
      }
    }
  })["export"](module);

}).call(this);
